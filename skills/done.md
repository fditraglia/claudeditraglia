# Session Capture

*v1.0 — Captures decisions, questions, and follow-ups to a session log*

Captures key decisions, open questions, and follow-ups from the current session. Writes a structured entry to the session log for cross-session continuity. Run at the end of any substantive work session.

## Arguments

`$ARGUMENTS` can include:
- *(none)* — full capture (decisions + questions + follow-ups + context)
- `quick` — abbreviated capture (decisions + follow-ups only, no context summary)
- `project:name` — tag the entry with a specific project name

## Instructions

### Step 1: Identify Session Scope

Review the conversation history and determine:
- **Session topic(s):** What was worked on? (1-2 line summary)
- **Project(s) touched:** Match against known projects
- **Duration indicator:** Brief (< 10 exchanges), Medium (10-30), Extended (30+)

### Step 2: Extract Session Artifacts

Scan the conversation for:

**Decisions made** — things that were decided or confirmed:
- Configuration changes, skill edits, policy updates
- Approach selections (e.g., "we'll use method X instead of Y")
- Commitments (e.g., "will send email to X by Friday")

**Open questions** — unresolved items that need future attention:
- Questions raised but not answered
- Items deferred ("we'll handle that next time")
- Blockers or dependencies on external input

**Follow-ups** — concrete next steps:
- Tasks to do in a future session
- Things to check, test, or verify
- People to contact or documents to review

**Key artifacts created** — files written or modified:
- New skills, agents, or config files
- Documents drafted or edited
- State changes (e.g., emails sent, reminders modified)

### Step 3: Write Session Entry

Append to `~/Documents/session-log.md` (or your preferred location):

```markdown
---

## [YYYY-MM-DD HH:MM] — [Session topic summary]

**Project(s):** [project names or "General"]
**Duration:** [Brief/Medium/Extended]

### Decisions
- [Decision 1]
- [Decision 2]

### Open Questions
- [Question 1]
- [Question 2]

### Follow-ups
- [ ] [Action item 1]
- [ ] [Action item 2]

### Artifacts
- [Created/Modified] `path/to/file` — [what changed]

### Context
[2-4 sentence summary of key context a future session would need to pick up where this left off. Include any non-obvious reasoning or constraints discussed.]
```

If the file doesn't exist, create it with a header:
```markdown
# Session Log
*Auto-generated by /done. Reverse chronological — newest entries at top.*
```

**New entries go at the TOP** (after the header), reverse chronological.

### Step 4: Summary

Display a brief confirmation:

```
SESSION CAPTURED
Topic: [summary]
Decisions: [N] | Questions: [N] | Follow-ups: [N] | Artifacts: [N]
Logged to: session-log.md

[If open questions exist:]
[N] open questions — pick these up next session

[If follow-ups exist:]
Next time: [most important follow-up item]
```

## Customization Points

- **Log file location:** Change `~/Documents/session-log.md` to wherever you want session logs stored
- **Project matching:** Add logic to match against your known projects list (e.g., from CLAUDE.md or a goals file)
- **Archive threshold:** Add pruning logic if your log grows large (e.g., archive entries older than 60 days)

## Error Handling

- **No substantive content:** If the session was just a quick lookup or greeting, report: "Nothing to capture — session was too brief."
- **Log file write fails:** Display the entry in the terminal so you can manually save it.
